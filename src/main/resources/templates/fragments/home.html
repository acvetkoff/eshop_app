<th:block xmlns:th="http://www.thymeleaf.org">

    <section th:fragment="categories-section(types)" class="showcase-section">
        <div class="categories">
            <h1 class="categories-text">Categories</h1>
            <ul class="product-items">
                <li th:each="t : ${types}">
                    <a th:href="@{/products?type={type} (type = ${t})}"
                       th:text="${#strings.capitalize(#strings.toLowerCase(t.name())) + 's'}"></a>
                    <i class="fa fa-chevron-right"></i>
                </li>
            </ul>
        </div>
        <div class="main-images">
            <img class="main-image" crossorigin="z" id="main-image" alt="product image">
        </div>
    </section>

    <section th:fragment="info-icons" class="info-icons flex-center">
        <div class="info-icon flex-center">
            <svg width="38" height="38" viewBox="0 0 38 38" fill="none" xmlns="http://www.w3.org/2000/svg">
                <circle cx="19" cy="19" r="18" stroke="#F97B54" stroke-width="2"/>
                <path
                        d="M14.9375 17.875C17.1137 17.875 18.875 16.1137 18.875 13.9375C18.875 11.7613 17.1137 10 14.9375 10C12.7613 10 11 11.7613 11 13.9375C11 16.1137 12.7613 17.875 14.9375 17.875ZM14.9375 12.25C15.8691 12.25 16.625 13.0059 16.625 13.9375C16.625 14.8691 15.8691 15.625 14.9375 15.625C14.0059 15.625 13.25 14.8691 13.25 13.9375C13.25 13.0059 14.0059 12.25 14.9375 12.25ZM22.8125 20.125C20.6363 20.125 18.875 21.8863 18.875 24.0625C18.875 26.2387 20.6363 28 22.8125 28C24.9887 28 26.75 26.2387 26.75 24.0625C26.75 21.8863 24.9887 20.125 22.8125 20.125ZM22.8125 25.75C21.8809 25.75 21.125 24.9941 21.125 24.0625C21.125 23.1309 21.8809 22.375 22.8125 22.375C23.7441 22.375 24.5 23.1309 24.5 24.0625C24.5 24.9941 23.7441 25.75 22.8125 25.75ZM24.7918 10.007L25.9027 10.0035C26.5848 10 26.9891 10.7699 26.5953 11.3324L13.7211 27.6344C13.6435 27.7451 13.5403 27.8355 13.4204 27.8979C13.3004 27.9603 13.1672 27.9929 13.032 27.993L11.8578 27.9965C11.1723 27.9965 10.7715 27.2266 11.1652 26.6676L24.1027 10.3656C24.2609 10.1406 24.5176 10.007 24.7918 10.007Z"
                        fill="#F97B54"/>
            </svg>
            <p class="info-text flex-center">Big promotions <br> everyday</p>
        </div>
        <div class="info-icon flex-center">
            <svg width="38" height="38" viewBox="0 0 38 38" fill="none" xmlns="http://www.w3.org/2000/svg">
                <circle cx="19" cy="19" r="18" stroke="#F97B54" stroke-width="2"/>
                <path d="M18.4692 25.4965C18.4738 24.9959 18.3295 24.5051 18.0547 24.0866C17.7799 23.668 17.3869 23.3406 16.9256 23.1458C16.4644 22.951 15.9556 22.8976 15.464 22.9925C14.9724 23.0873 14.52 23.3261 14.1643 23.6785C13.8086 24.031 13.5657 24.4811 13.4663 24.9718C13.3669 25.4626 13.4156 25.9718 13.6061 26.4348C13.7966 26.8979 14.1205 27.2938 14.5364 27.5725C14.9524 27.8512 15.4418 28 15.9425 28C16.6087 28 17.2478 27.737 17.721 27.2682C18.1942 26.7993 18.4631 26.1626 18.4692 25.4965V25.4965ZM14.8299 25.4965C14.8253 25.27 14.8886 25.0472 15.0116 24.8569C15.1347 24.6666 15.3118 24.5175 15.5203 24.4287C15.7287 24.3398 15.959 24.3154 16.1815 24.3585C16.4039 24.4016 16.6084 24.5102 16.7686 24.6704C16.9289 24.8307 17.0375 25.0352 17.0806 25.2576C17.1237 25.4801 17.0992 25.7104 17.0104 25.9188C16.9216 26.1273 16.7724 26.3044 16.5821 26.4274C16.3918 26.5505 16.1691 26.6138 15.9425 26.6092C15.6475 26.6092 15.3644 26.492 15.1558 26.2833C14.9471 26.0746 14.8299 25.7916 14.8299 25.4965V25.4965Z"
                      fill="#F97B54"/>
                <path d="M25.4464 25.4965C25.4464 25.0014 25.2995 24.5173 25.0245 24.1057C24.7494 23.694 24.3584 23.3731 23.9009 23.1836C23.4435 22.9941 22.9401 22.9445 22.4545 23.0411C21.9689 23.1377 21.5228 23.3762 21.1727 23.7263C20.8226 24.0764 20.5842 24.5225 20.4876 25.0081C20.391 25.4937 20.4405 25.9971 20.63 26.4545C20.8195 26.912 21.1404 27.303 21.5521 27.5781C21.9638 27.8531 22.4478 28 22.9429 28C23.2717 28 23.5972 27.9352 23.9009 27.8094C24.2047 27.6836 24.4807 27.4992 24.7131 27.2667C24.9456 27.0342 25.13 26.7583 25.2558 26.4545C25.3816 26.1508 25.4464 25.8253 25.4464 25.4965ZM21.8303 25.4965C21.8362 25.2033 21.9553 24.9237 22.1627 24.7163C22.3701 24.5089 22.6497 24.3898 22.9429 24.3839C23.089 24.3839 23.2337 24.4126 23.3687 24.4685C23.5037 24.5245 23.6264 24.6064 23.7297 24.7097C23.833 24.8131 23.915 24.9357 23.9709 25.0707C24.0268 25.2057 24.0556 25.3504 24.0556 25.4965C24.0587 25.6435 24.0321 25.7896 23.9773 25.926C23.9225 26.0624 23.8407 26.1863 23.7367 26.2903C23.6328 26.3943 23.5088 26.4761 23.3724 26.5309C23.236 26.5857 23.0899 26.6123 22.9429 26.6092C22.7968 26.6092 22.6521 26.5804 22.5171 26.5245C22.3821 26.4685 22.2595 26.3866 22.1562 26.2833C22.0528 26.1799 21.9709 26.0573 21.915 25.9223C21.859 25.7873 21.8303 25.6426 21.8303 25.4965V25.4965Z"
                      fill="#F97B54"/>
                <path d="M26.8605 13.7674H13.3697L12.8365 11.0321C12.8029 10.8977 12.7334 10.7749 12.6354 10.6769C12.5374 10.579 12.4146 10.5094 12.2802 10.4758L9.8463 10.0122C9.66213 9.97784 9.47183 10.0168 9.31595 10.1207C9.16007 10.2246 9.05094 10.3853 9.01182 10.5685C8.99505 10.6583 8.99614 10.7505 9.01502 10.8399C9.03391 10.9293 9.07022 11.0141 9.12188 11.0894C9.17355 11.1648 9.23955 11.2292 9.31612 11.279C9.39269 11.3288 9.47833 11.3631 9.56814 11.3798L11.5616 11.7507L13.2538 20.281C13.3708 20.86 13.6836 21.3811 14.1394 21.7567C14.5953 22.1324 15.1665 22.3398 15.7572 22.344H23.3603C23.913 22.3463 24.4515 22.169 24.8947 21.8387C25.3378 21.5084 25.6617 21.0431 25.8174 20.5128L27.5328 14.625C27.5592 14.5223 27.5624 14.4149 27.5424 14.3107C27.5224 14.2065 27.4795 14.108 27.4169 14.0224C27.3497 13.9402 27.2647 13.8746 27.1683 13.8304C27.0718 13.7862 26.9666 13.7646 26.8605 13.7674ZM24.473 20.1419C24.4099 20.3867 24.2654 20.6028 24.0631 20.7544C23.8609 20.9061 23.613 20.9844 23.3603 20.9764H15.7572C15.4901 20.9765 15.2311 20.8842 15.0241 20.7152C14.8171 20.5463 14.6749 20.311 14.6214 20.0492L13.6478 15.1582H25.9333L24.473 20.1419Z"
                      fill="#F97B54"/>
            </svg>
            <p class="info-text">Fast delivery to <br> your door</p>
        </div>
        <div class="info-icon flex-center">
            <svg width="38" height="38" viewBox="0 0 38 38" fill="none" xmlns="http://www.w3.org/2000/svg">
                <circle cx="19" cy="19" r="18" stroke="#F97B54" stroke-width="2"/>
                <path d="M27.4375 18.7023C27.4464 23.506 23.5288 27.4341 18.7251 27.4375C16.6503 27.4389 14.7446 26.7157 13.247 25.507C12.8575 25.1927 12.8284 24.6091 13.1823 24.2552L13.5784 23.8591C13.8811 23.5564 14.3643 23.5233 14.6996 23.7893C15.803 24.6649 17.1993 25.1875 18.7188 25.1875C22.2943 25.1875 25.1875 22.2938 25.1875 18.7188C25.1875 15.1432 22.2938 12.25 18.7188 12.25C17.0026 12.25 15.444 12.9169 14.2867 14.0054L16.071 15.7897C16.4254 16.1441 16.1744 16.75 15.6733 16.75H10.5625C10.2518 16.75 10 16.4982 10 16.1875V11.0767C10 10.5756 10.6059 10.3246 10.9603 10.679L12.696 12.4147C14.2613 10.9188 16.3827 10 18.7188 10C23.5285 10 27.4286 13.8946 27.4375 18.7023ZM21.0773 21.472L21.4227 21.028C21.7088 20.6601 21.6425 20.13 21.2746 19.844L19.8438 18.731V15.0625C19.8438 14.5965 19.466 14.2188 19 14.2188H18.4375C17.9715 14.2188 17.5938 14.5965 17.5938 15.0625V19.8315L19.8933 21.62C20.2611 21.9061 20.7912 21.8399 21.0773 21.472V21.472Z"
                      fill="#F97B54"/>
            </svg>

            <p class="info-text">Track your order <br> in real time</p>
        </div>
        <div class="info-icon flex-center">
            <svg width="38" height="38" viewBox="0 0 38 38" fill="none" xmlns="http://www.w3.org/2000/svg">
                <circle cx="19" cy="19" r="18" stroke="#F97B54" stroke-width="2"/>
                <path d="M10 15.9064V15.3439C10 14.8779 10.3778 14.5001 10.8438 14.5001H23.5V12.8126C23.5 12.0614 24.4105 11.6861 24.9404 12.216L27.7529 15.0285C28.0824 15.358 28.0824 15.8922 27.7529 16.2217L24.9404 19.0342C24.4125 19.562 23.5 19.1919 23.5 18.4376V16.7501H10.8438C10.3778 16.7501 10 16.3724 10 15.9064ZM27.1562 21.2501H14.5V19.5626C14.5 18.8133 13.5908 18.4348 13.0596 18.966L10.2471 21.7785C9.91763 22.108 9.91763 22.6422 10.2471 22.9717L13.0596 25.7842C13.5879 26.3125 14.5 25.9413 14.5 25.1876V23.5001H27.1562C27.6222 23.5001 28 23.1224 28 22.6564V22.0939C28 21.6279 27.6222 21.2501 27.1562 21.2501Z"
                      fill="#F97B54"/>
            </svg>

            <p class="info-text">Free return up <br> to 14 days</p>
        </div>
    </section>

    <section th:fragment="popular-products" class="popular-products flex-center">
        <h2>Most popular this week</h2>
        <div class="product-cards flex-center">
            <th:block th:each="product : ${products}" th:object="${product}">
                <a th:href="@{/products/{id}(id = *{id})}">
                    <div class="product-card">
                        <div class="product-image">
                            <img th:src="@{|*{image.imagePath}|}" alt="product pic">
                        </div>
                        <div class="stars flex-center">
                            <i class="fa fa-star"></i>
                            <i class="fa fa-star"></i>
                            <i class="fa fa-star"></i>
                            <i class="fa fa-star"></i>
                            <i class="fa fa-star"></i>
                            <p class="rating">4.31 (31)</p>
                        </div>
                        <h4 th:text="*{#strings.abbreviate(title, 20)}" class="product-title">Last of Us II</h4>
                        <p class="author-genre"
                           th:text="*{#strings.abbreviate(#strings.arrayJoin(genres, ', '), 20)}">
                        </p>
                        <div class="product-price flex-center">
                            <h3 th:text="*{price}" class="price">812300</h3><span>USD</span>
                        </div>
                    </div>
                </a>
            </th:block>
        </div>
    </section>

    <th:block th:fragment="new-products(newProducts, category)">
        <section class="new-products-section">
            <h2 th:text="|New ${category}|">Category</h2>
            <div class="product-cards flex-center">
                <th:block th:each="p : ${newProducts}" th:object="${p}">
                    <a th:href="@{/products/{id}(id = *{id})}">
                        <div class="product-card">
                            <div class="product-image">
                                <img th:src="@{|*{image.imagePath}|}" alt="game pic">
                            </div>
                            <div class="stars flex-center">
                                <i class="fa fa-star"></i>
                                <i class="fa fa-star"></i>
                                <i class="fa fa-star"></i>
                                <i class="fa fa-star"></i>
                                <i class="fa fa-star"></i>
                                <p class="rating">4.31 (31)</p>
                            </div>
                            <h4 th:text="*{#strings.abbreviate(title, 20)}" class="product-title">Last of Us II</h4>
                            <p class="author-genre"
                               th:text="*{#strings.abbreviate(#strings.arrayJoin(genres, ', '), 20)}">
                            </p>
                            <div class="product-price flex-center">
                                <h3 th:text="*{price}" class="price">89.00</h3><span>USD</span>
                            </div>
                        </div>
                    </a>
                </th:block>
            </div>
        </section>
        <div class="view-all">
            <a href="">View all</a>
        </div>
        <hr>
    </th:block>
</th:block>